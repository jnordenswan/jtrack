PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;

CREATE TABLE node (
    id INTEGER CONSTRAINT pk PRIMARY KEY ASC AUTOINCREMENT,
    type TEXT CONSTRAINT nn NOT NULL,
    data CONSTRAINT nn NOT NULL,
    creation_time INTEGER CONSTRAINT nn NOT NULL);

CREATE TABLE relation (
    parent INTEGER CONSTRAINT nn NOT NULL REFERENCES node(id) ON DELETE CASCADE,
    child INTEGER CONSTRAINT nn NOT NULL REFERENCES node(id) ON DELETE CASCADE);

COMMIT;
